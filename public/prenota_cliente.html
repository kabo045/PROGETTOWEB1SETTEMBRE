<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prenota una Sede | CoWorkSpace</title>

  <!-- Bootstrap & Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"/>

  <!-- Stile progetto -->
  <link rel="stylesheet" href="css/try.css">

  <style>
    /* ===== Layout generale (immutato) ===== */
    body { background:#f4f8fb; color:#212529; }
    .sidebar{
      background:#fff; min-width:230px; border-right:1px solid #e3eefa;
      box-shadow:2px 0 14px #e0edfc;
    }
    .sidebar-logo{ font-weight:700; font-size:1.45rem; margin-bottom:2rem; color:#3182ce; }
    .sidebar a{ color:#666!important; border-radius:8px; font-weight:500; margin-bottom:.12rem; }
    .sidebar a.active,.sidebar a:focus{ background:#e9f0fb!important; color:#1a237e!important; }
    .dashboard-main{
      background:#fff; min-height:100vh; border-radius:2rem;
      box-shadow:0 8px 40px #244b7633; margin:2rem 2vw; padding:2.2rem 1.5rem 2rem;
    }
    .filter-bar{
      background:#f6fbff; border-radius:1.1rem; padding:1.1rem 1rem .2rem;
      margin-bottom:1.3rem; box-shadow:0 2px 10px #e3eefa77;
    }

    /* ====== CARD SEDI ‚Äì look ‚Äúpro‚Äù ====== */
    /* Struttura orizzontale con immagine fissa a sinistra */
    #listaSedi .card-sede{
      position:relative;
      display:grid;
      grid-template-columns: 220px 1fr auto; /* img | contenuto | azioni */
      gap:1.25rem;
      align-items:center;
      background:#fff;
      border:1px solid #e6eefb;
      border-radius:16px;
      padding:14px;
      box-shadow:0 6px 16px rgba(49,130,206,.08);
      margin-bottom:1rem;
      transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
      cursor:pointer;
    }
    #listaSedi .card-sede:hover{
      transform:translateY(-2px);
      box-shadow:0 14px 30px rgba(49,130,206,.15);
      border-color:#cfe1ff;
      background:#f8fbff;
    }

    /* Colonna immagine */
    #listaSedi .card-sede .sede-thumb{
      width:100%; height:150px; border-radius:12px; overflow:hidden; background:#eef3fb;
      display:flex; align-items:center; justify-content:center;
    }
    #listaSedi .card-sede .sede-thumb img{
      width:100%; height:100%; object-fit:cover; display:block;
    }
    /* Se l'immagine manca/√® vuota rimane un placeholder "neutro" */
    #listaSedi .card-sede .sede-thumb img[src=""], 
    #listaSedi .card-sede .sede-thumb img:not([src]){
      display:none;
    }
    #listaSedi .card-sede .sede-thumb::after{
      content:"";
      width:52px; height:52px; border-radius:12px;
      background:linear-gradient(135deg,#e8efff,#f2f7ff);
      box-shadow:inset 0 0 0 2px #e1e9fb;
    }

    /* Colonna contenuto */
    #listaSedi .card-sede .sede-title{
      font-size:1.1rem; font-weight:700; color:#0e2a5a; line-height:1.25;
      display:flex; align-items:center; gap:.5rem;
    }
    #listaSedi .card-sede .sede-title .badge-soft{
      font-weight:600; font-size:.75rem; color:#1c4ed8;
      background:#e7efff; border:1px solid #d9e6ff; border-radius:8px; padding:.25rem .5rem;
    }

    #listaSedi .card-sede .sede-rating{
      margin:.35rem 0 .5rem; color:#f59e0b; letter-spacing:2px; font-size:1rem;
    }
    #listaSedi .card-sede .sede-meta{
      display:flex; flex-wrap:wrap; gap:.75rem 1.25rem; color:#5b6b85; font-size:.92rem;
    }
    #listaSedi .card-sede .sede-meta .meta{
      display:inline-flex; align-items:center; gap:.35rem;
    }
    #listaSedi .card-sede .sede-meta .meta i{ opacity:.85; }

    /* Colonna azioni */
    #listaSedi .card-sede .sede-actions{
      display:flex; flex-direction:column; gap:.5rem; align-items:flex-end;
    }
    #listaSedi .card-sede .btn-dettagli{
      border:1px solid #cfd9ee; background:#f7faff; color:#28446b;
    }
    #listaSedi .card-sede .btn-dettagli:hover{ background:#ecf4ff; border-color:#c3d5ff; }

    #listaSedi .card-sede .btn-prenota{
      background:#f8c102; color:#262209; border:none; font-weight:700;
      box-shadow:0 4px 10px rgba(248,193,2,.25);
    }
    #listaSedi .card-sede .btn-prenota:hover{
      filter:brightness(.97); transform:translateY(-1px);
      box-shadow:0 8px 18px rgba(248,193,2,.35);
    }

    /* Stato selezionata (se la marchi da JS aggiungendo .selected) */
    #listaSedi .card-sede.selected{
      border-color:#3182ce; box-shadow:0 10px 28px rgba(49,130,206,.22); background:#f1f8ff;
    }

    /* Responsive: sotto 992px card compatta, sotto 576px tutto in colonna */
    @media (max-width: 991.98px){
      #listaSedi .card-sede{ grid-template-columns: 200px 1fr; }
      #listaSedi .card-sede .sede-actions{ grid-column: 1 / -1; flex-direction:row; justify-content:flex-end; }
    }
    @media (max-width: 575.98px){
      #listaSedi .card-sede{ grid-template-columns: 1fr; }
      #listaSedi .card-sede .sede-thumb{ height:180px; }
      #listaSedi .card-sede .sede-actions{ justify-content:stretch; }
      #listaSedi .card-sede .btn-prenota, 
      #listaSedi .card-sede .btn-dettagli{ width:100%; }
    }
    
  </style>
</head>

<body class="d-flex">
  <!-- Sidebar -->
  <nav class="sidebar d-flex flex-column flex-shrink-0 p-3">
    <div class="sidebar-logo"><span>üß†</span> <span>CoWorkSpace</span></div>
    <ul class="nav nav-pills flex-column mb-auto">
      <li><a href="dashboard_cliente.html" class="nav-link"><i class="bi bi-house me-2"></i> Dashboard</a></li>
      <li><a href="prenota_cliente.html" class="nav-link active"><i class="bi bi-calendar-plus me-2"></i> Prenota una sede</a></li>
      <li><a href="prenotazioni_cliente.html" class="nav-link"><i class="bi bi-list-check me-2"></i> Le mie prenotazioni</a></li>
      <li><a href="pagamenti_cliente.html" class="nav-link"><i class="bi bi-credit-card me-2"></i> Pagamenti</a></li>
      <li><a href="account_cliente.html" class="nav-link"><i class="bi bi-person-circle me-2"></i> Il mio Profilo</a></li>
      <li><a href="notifiche_cliente.html" class="nav-link"><i class="bi bi-bell me-2"></i> Notifiche</a></li>
      <li><a href="feedback_cliente.html" class="nav-link"><i class="bi bi-star-half me-2"></i> Recensioni Sedi</a></li>
      <li><a href="assistenzacliente.html" class="nav-link"><i class="bi bi-bell me-2"></i> Assistenza cliente</a></li>
    </ul>
    <hr>
    <button id="logoutBtn" class="btn btn-outline-danger w-100 mt-auto">
      <i class="bi bi-box-arrow-right me-2"></i> Logout
    </button>
  </nav>

  <!-- Main -->
  <main class="flex-grow-1 dashboard-main">
    <h2 class="mb-3"><i class="bi bi-calendar-plus"></i> Prenota una Sede</h2>

    <!-- Filtri -->
    <div class="filter-bar row g-2 align-items-end mb-3">
      <div class="col-sm-3">
        <label class="form-label mb-0">Citt√†</label>
        <input type="text" id="filtroCitta" class="form-control" placeholder="Qualsiasi citt√†...">
      </div>
      <div class="col-sm-3">
        <label class="form-label mb-0">Tipologia</label>
        <select id="filtroTipologia" class="form-select">
          <option value="">Tutte</option>
          <option value="open space">Open Space</option>
          <option value="stanza privata">Stanza Privata</option>
          <option value="sala riunioni">Sala Riunioni</option>
          <option value="postazione">Postazione</option>
        </select>
      </div>
      <div class="col-sm-4">
        <label class="form-label mb-0">Servizi</label>
        <div class="d-flex flex-wrap" id="filtroServizi" style="gap:.6rem 1rem">
          <label><input type="checkbox" value="wifi"> WiFi</label>
          <label><input type="checkbox" value="stampante"> Stampante</label>
          <label><input type="checkbox" value="parcheggio"> Parcheggio</label>
          <label><input type="checkbox" value="caffe"> Caff√®</label>
          <label><input type="checkbox" value="aria condizionata"> Aria Condizionata</label>
        </div>
      </div>
      <div class="col-sm-2">
        <button id="btnCerca" class="btn btn-primary w-100"><i class="bi bi-search me-1"></i>Cerca</button>
      </div>
    </div>

    <!-- LISTA SEDI (le card vengono popolate dal tuo JS) -->
    <div id="listaSedi" class="row g-3"></div>
    <div id="noSedi" class="text-center text-muted mt-4" style="display:none;">
      <i class="bi bi-geo-alt fs-2"></i><br>Nessuna sede trovata coi filtri attuali.
    </div>

    <!-- Sezione dettagli (step successivi) -->
    <div id="dettagliPrenotazione" class="mt-4"></div>
  </main>

  <!-- Modale prenotazione -->
  <div class="modal fade" id="prenotaModal" tabindex="-1" aria-labelledby="prenotaModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content shadow-lg border-0 rounded-4">
        <div class="modal-header">
          <h5 class="modal-title" id="prenotaModalLabel"><i class="bi bi-calendar2-plus me-2"></i> Prenota uno spazio</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Chiudi"></button>
        </div>
        <div class="modal-body p-4" id="prenotaModalBody"><!-- popolato da JS --></div>
      </div>
    </div>
  </div>

  <!-- Bootstrap bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Toast container + tuo JS -->
  <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3"></div>
  <script src="js/cliente_prenota.js"></script>
</body>
</html>
